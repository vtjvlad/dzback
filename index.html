<!DOCTYPE html>
<html>
<head>
	<script src="https://telegram.org/js/telegram-web-app.js"></script>
	   <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Интернет-магазин</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://unpkg.com/jwt-decode@3.1.2/build/jwt-decode.min.js"></script>
</head>
 <script>
      window.Telegram.WebApp.expand();

      window.Telegram.WebApp.headerColor = "#171f2a";

      window.Telegram.WebApp.setHeaderColor("#171f2a");

      if (window.Telegram.WebApp.isVersionAtLeast("7.7")){

    window.Telegram.WebApp.disableVerticalSwipes();

      }

      if (window.Telegram.WebApp.isVersionAtLeast("8.0")){

        try {

          window.Telegram.WebApp.requestFullscreen();

        } catch (e) {

          console.log(e, "1");

        }

      }
    </script>
<body>

<h1>Интернет-магазин</h1>

<div id="auth-block">
    <button class="showRegistrBtn" onclick="showRegistrationForm()">Регистрация</button>
    <button class="showLoginBtn" onclick="showLoginForm()">Вход</button>
</div>

<div id="registration-form" style="display:none;">
    <h2>Регистрация</h2>
    <form id="registrationForm">
        <input type="text" id="reg-username" placeholder="Имя пользователя" required>
        <input type="email" id="reg-email" placeholder="Email" required>
        <input type="password" id="reg-password" placeholder="Пароль" required>
        <button type="submit">Зарегистрироваться</button>
    </form>
</div>

<div id="login-form" style="display:none;">
    <h2>Вход</h2>
    <form id="loginForm">
        <input type="text" id="login-input" placeholder="Имя пользователя или Email" required>
        <input type="password" id="login-password" placeholder="Пароль" required>
        <button type="submit">Войти</button>
    </form>
</div>

<div id="protected-content" style="display:none;">
    <h2>Защищенный контент</h2>
    <p>Добро пожаловать, <span id="username-display"></span>!</p>
    <button onclick="accessProtectedContent()">Получить данные</button>
    <pre id="protected-data"></pre>

    <button onclick="logout()">Выйти</button> <--- Добавлена кнопка "Выйти" --->

</div>

<button class="start" onclick="loginViaTelegram()">Авторизация через Telegram</button>
<script src="script.js"></script>
</body>
</html>